#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             24000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          2800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C  
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
{0   ,4330},
{1   ,4312},
{3   ,4296},
{4   ,4282},
{5   ,4267},
{6   ,4253},
{8   ,4239},
{9   ,4225},
{10  ,4211},
{11  ,4197},
{13  ,4184},
{14  ,4170},
{15  ,4157},
{16  ,4144},
{18  ,4131},
{19  ,4118},
{20  ,4105},
{21  ,4093},
{23  ,4081},
{24  ,4070},
{25  ,4061},
{27  ,4049},
{28  ,4034},
{29  ,4019},
{30  ,4006},
{32  ,3996},
{33  ,3987},
{34  ,3979},
{35  ,3970},
{37  ,3959},
{38  ,3947},
{39  ,3934},
{40  ,3919},
{42  ,3905},
{43  ,3893},
{44  ,3883},
{45  ,3874},
{47  ,3866},
{48  ,3859},
{49  ,3852},
{51  ,3846},
{52  ,3840},
{53  ,3834},
{54  ,3828},
{56  ,3823},
{57  ,3818},
{58  ,3814},
{59  ,3809},
{61  ,3805},
{62  ,3800},
{63  ,3796},
{64  ,3792},
{66  ,3789},
{67  ,3785},
{68  ,3782},
{70  ,3778},
{71  ,3774},
{72  ,3771},
{73  ,3767},
{75  ,3762},
{76  ,3758},
{77  ,3753},
{78  ,3748},
{79  ,3747},
{80  ,3742},
{81  ,3737},
{82  ,3730},
{84  ,3722},
{85  ,3715},
{86  ,3706},
{88  ,3695},
{89  ,3691},
{90  ,3689},
{91  ,3688},
{93  ,3687},
{94  ,3685},
{95  ,3679},
{96  ,3650},
{97  ,3620},
{98  ,3580},
{98  ,3530},
{99  ,3480},
{100 ,3420},
{100 ,3400},
{100 ,3382}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
{0   ,4330},
{1   ,4312},
{3   ,4296},
{4   ,4282},
{5   ,4267},
{6   ,4253},
{8   ,4239},
{9   ,4225},
{10  ,4211},
{11  ,4197},
{13  ,4184},
{14  ,4170},
{15  ,4157},
{16  ,4144},
{18  ,4131},
{19  ,4118},
{20  ,4105},
{21  ,4093},
{23  ,4081},
{24  ,4070},
{25  ,4061},
{27  ,4049},
{28  ,4034},
{29  ,4019},
{30  ,4006},
{32  ,3996},
{33  ,3987},
{34  ,3979},
{35  ,3970},
{37  ,3959},
{38  ,3947},
{39  ,3934},
{40  ,3919},
{42  ,3905},
{43  ,3893},
{44  ,3883},
{45  ,3874},
{47  ,3866},
{48  ,3859},
{49  ,3852},
{51  ,3846},
{52  ,3840},
{53  ,3834},
{54  ,3828},
{56  ,3823},
{57  ,3818},
{58  ,3814},
{59  ,3809},
{61  ,3805},
{62  ,3800},
{63  ,3796},
{64  ,3792},
{66  ,3789},
{67  ,3785},
{68  ,3782},
{70  ,3778},
{71  ,3774},
{72  ,3771},
{73  ,3767},
{75  ,3762},
{76  ,3758},
{77  ,3753},
{78  ,3748},
{79  ,3747},
{80  ,3742},
{81  ,3737},
{82  ,3730},
{84  ,3722},
{85  ,3715},
{86  ,3706},
{88  ,3695},
{89  ,3691},
{90  ,3689},
{91  ,3688},
{93  ,3687},
{94  ,3685},
{95  ,3679},
{96  ,3650},
{97  ,3620},
{98  ,3580},
{98  ,3530},
{99  ,3480},
{100 ,3420},
{100 ,3400},
{100 ,3382}
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
{0   ,4330},
{1   ,4312},
{3   ,4296},
{4   ,4282},
{5   ,4267},
{6   ,4253},
{8   ,4239},
{9   ,4225},
{10  ,4211},
{11  ,4197},
{13  ,4184},
{14  ,4170},
{15  ,4157},
{16  ,4144},
{18  ,4131},
{19  ,4118},
{20  ,4105},
{21  ,4093},
{23  ,4081},
{24  ,4070},
{25  ,4061},
{27  ,4049},
{28  ,4034},
{29  ,4019},
{30  ,4006},
{32  ,3996},
{33  ,3987},
{34  ,3979},
{35  ,3970},
{37  ,3959},
{38  ,3947},
{39  ,3934},
{40  ,3919},
{42  ,3905},
{43  ,3893},
{44  ,3883},
{45  ,3874},
{47  ,3866},
{48  ,3859},
{49  ,3852},
{51  ,3846},
{52  ,3840},
{53  ,3834},
{54  ,3828},
{56  ,3823},
{57  ,3818},
{58  ,3814},
{59  ,3809},
{61  ,3805},
{62  ,3800},
{63  ,3796},
{64  ,3792},
{66  ,3789},
{67  ,3785},
{68  ,3782},
{70  ,3778},
{71  ,3774},
{72  ,3771},
{73  ,3767},
{75  ,3762},
{76  ,3758},
{77  ,3753},
{78  ,3748},
{79  ,3747},
{80  ,3742},
{81  ,3737},
{82  ,3730},
{84  ,3722},
{85  ,3715},
{86  ,3706},
{88  ,3695},
{89  ,3691},
{90  ,3689},
{91  ,3688},
{93  ,3687},
{94  ,3685},
{95  ,3679},
{96  ,3650},
{97  ,3620},
{98  ,3580},
{98  ,3530},
{99  ,3480},
{100 ,3420},
{100 ,3400},
{100 ,3382},
{101 ,3311},
{101 ,3296},
{101 ,3289},
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
{0   ,4330},
{1   ,4312},
{3   ,4296},
{4   ,4282},
{5   ,4267},
{6   ,4253},
{8   ,4239},
{9   ,4225},
{10  ,4211},
{11  ,4197},
{13  ,4184},
{14  ,4170},
{15  ,4157},
{16  ,4144},
{18  ,4131},
{19  ,4118},
{20  ,4105},
{21  ,4093},
{23  ,4081},
{24  ,4070},
{25  ,4061},
{27  ,4049},
{28  ,4034},
{29  ,4019},
{30  ,4006},
{32  ,3996},
{33  ,3987},
{34  ,3979},
{35  ,3970},
{37  ,3959},
{38  ,3947},
{39  ,3934},
{40  ,3919},
{42  ,3905},
{43  ,3893},
{44  ,3883},
{45  ,3874},
{47  ,3866},
{48  ,3859},
{49  ,3852},
{51  ,3846},
{52  ,3840},
{53  ,3834},
{54  ,3828},
{56  ,3823},
{57  ,3818},
{58  ,3814},
{59  ,3809},
{61  ,3805},
{62  ,3800},
{63  ,3796},
{64  ,3792},
{66  ,3789},
{67  ,3785},
{68  ,3782},
{70  ,3778},
{71  ,3774},
{72  ,3771},
{73  ,3767},
{75  ,3762},
{76  ,3758},
{77  ,3753},
{78  ,3748},
{79  ,3747},
{80  ,3742},
{81  ,3737},
{82  ,3730},
{84  ,3722},
{85  ,3715},
{86  ,3706},
{88  ,3695},
{89  ,3691},
{90  ,3689},
{91  ,3688},
{93  ,3687},
{94  ,3685},
{95  ,3679},
{96  ,3650},
{97  ,3620},
{98  ,3580},
{98  ,3530},
{99  ,3480},
{100 ,3420},
{100 ,3400},
{100 ,3382}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0}
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
{197  ,4330},
{198  ,4312},
{198  ,4296},
{200  ,4282},
{200  ,4267},
{203  ,4253},
{203  ,4239},
{205  ,4225},
{205  ,4211},
{208  ,4197},
{210  ,4184},
{210  ,4170},
{213  ,4157},
{215  ,4144},
{218  ,4131},
{218  ,4118},
{220  ,4105},
{223  ,4093},
{225  ,4081},
{228  ,4070},
{230  ,4061},
{233  ,4049},
{235  ,4034},
{238  ,4019},
{238  ,4006},
{240  ,3996},
{240  ,3987},
{243  ,3979},
{245  ,3970},
{245  ,3959},
{240  ,3947},
{233  ,3934},
{220  ,3919},
{210  ,3905},
{203  ,3893},
{200  ,3883},
{198  ,3874},
{198  ,3866},
{200  ,3859},
{200  ,3852},
{200  ,3846},
{203  ,3840},
{203  ,3834},
{203  ,3828},
{205  ,3823},
{208  ,3818},
{210  ,3814},
{213  ,3809},
{215  ,3805},
{215  ,3800},
{215  ,3796},
{215  ,3792},
{218  ,3789},
{220  ,3785},
{223  ,3782},
{223  ,3778},
{223  ,3774},
{223  ,3771},
{223  ,3767},
{220  ,3762},
{220  ,3758},
{218  ,3753},
{218  ,3748},
{218  ,3747},
{218  ,3742},
{223  ,3737},
{220  ,3730},
{220  ,3722},
{225  ,3715},
{228  ,3706},
{220  ,3695},
{220  ,3691},
{225  ,3689},
{233  ,3688},
{248  ,3687},
{263  ,3685},
{278  ,3679},
{279  ,3650},
{279  ,3620},
{279  ,3580},
{279  ,3530},
{279  ,3480},
{279 ,3420},
{279 ,3400},
{279 ,3382}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
{197  ,4330},
{198  ,4312},
{198  ,4296},
{200  ,4282},
{200  ,4267},
{203  ,4253},
{203  ,4239},
{205  ,4225},
{205  ,4211},
{208  ,4197},
{210  ,4184},
{210  ,4170},
{213  ,4157},
{215  ,4144},
{218  ,4131},
{218  ,4118},
{220  ,4105},
{223  ,4093},
{225  ,4081},
{228  ,4070},
{230  ,4061},
{233  ,4049},
{235  ,4034},
{238  ,4019},
{238  ,4006},
{240  ,3996},
{240  ,3987},
{243  ,3979},
{245  ,3970},
{245  ,3959},
{240  ,3947},
{233  ,3934},
{220  ,3919},
{210  ,3905},
{203  ,3893},
{200  ,3883},
{198  ,3874},
{198  ,3866},
{200  ,3859},
{200  ,3852},
{200  ,3846},
{203  ,3840},
{203  ,3834},
{203  ,3828},
{205  ,3823},
{208  ,3818},
{210  ,3814},
{213  ,3809},
{215  ,3805},
{215  ,3800},
{215  ,3796},
{215  ,3792},
{218  ,3789},
{220  ,3785},
{223  ,3782},
{223  ,3778},
{223  ,3774},
{223  ,3771},
{223  ,3767},
{220  ,3762},
{220  ,3758},
{218  ,3753},
{218  ,3748},
{218  ,3747},
{218  ,3742},
{223  ,3737},
{220  ,3730},
{220  ,3722},
{225  ,3715},
{228  ,3706},
{220  ,3695},
{220  ,3691},
{225  ,3689},
{233  ,3688},
{248  ,3687},
{263  ,3685},
{278  ,3679},
{279  ,3650},
{279  ,3620},
{279  ,3580},
{279  ,3530},
{279  ,3480},
{279 ,3420},
{279 ,3400},
{279 ,3382}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
{197  ,4330},
{198  ,4312},
{198  ,4296},
{200  ,4282},
{200  ,4267},
{203  ,4253},
{203  ,4239},
{205  ,4225},
{205  ,4211},
{208  ,4197},
{210  ,4184},
{210  ,4170},
{213  ,4157},
{215  ,4144},
{218  ,4131},
{218  ,4118},
{220  ,4105},
{223  ,4093},
{225  ,4081},
{228  ,4070},
{230  ,4061},
{233  ,4049},
{235  ,4034},
{238  ,4019},
{238  ,4006},
{240  ,3996},
{240  ,3987},
{243  ,3979},
{245  ,3970},
{245  ,3959},
{240  ,3947},
{233  ,3934},
{220  ,3919},
{210  ,3905},
{203  ,3893},
{200  ,3883},
{198  ,3874},
{198  ,3866},
{200  ,3859},
{200  ,3852},
{200  ,3846},
{203  ,3840},
{203  ,3834},
{203  ,3828},
{205  ,3823},
{208  ,3818},
{210  ,3814},
{213  ,3809},
{215  ,3805},
{215  ,3800},
{215  ,3796},
{215  ,3792},
{218  ,3789},
{220  ,3785},
{223  ,3782},
{223  ,3778},
{223  ,3774},
{223  ,3771},
{223  ,3767},
{220  ,3762},
{220  ,3758},
{218  ,3753},
{218  ,3748},
{218  ,3747},
{218  ,3742},
{223  ,3737},
{220  ,3730},
{220  ,3722},
{225  ,3715},
{228  ,3706},
{220  ,3695},
{220  ,3691},
{225  ,3689},
{233  ,3688},
{248  ,3687},
{263  ,3685},
{278  ,3679},
{279  ,3650},
{279  ,3620},
{279  ,3580},
{279  ,3530},
{279  ,3480},
{279 ,3420},
{279 ,3400},
{279 ,3382}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
{197  ,4330},
{198  ,4312},
{198  ,4296},
{200  ,4282},
{200  ,4267},
{203  ,4253},
{203  ,4239},
{205  ,4225},
{205  ,4211},
{208  ,4197},
{210  ,4184},
{210  ,4170},
{213  ,4157},
{215  ,4144},
{218  ,4131},
{218  ,4118},
{220  ,4105},
{223  ,4093},
{225  ,4081},
{228  ,4070},
{230  ,4061},
{233  ,4049},
{235  ,4034},
{238  ,4019},
{238  ,4006},
{240  ,3996},
{240  ,3987},
{243  ,3979},
{245  ,3970},
{245  ,3959},
{240  ,3947},
{233  ,3934},
{220  ,3919},
{210  ,3905},
{203  ,3893},
{200  ,3883},
{198  ,3874},
{198  ,3866},
{200  ,3859},
{200  ,3852},
{200  ,3846},
{203  ,3840},
{203  ,3834},
{203  ,3828},
{205  ,3823},
{208  ,3818},
{210  ,3814},
{213  ,3809},
{215  ,3805},
{215  ,3800},
{215  ,3796},
{215  ,3792},
{218  ,3789},
{220  ,3785},
{223  ,3782},
{223  ,3778},
{223  ,3774},
{223  ,3771},
{223  ,3767},
{220  ,3762},
{220  ,3758},
{218  ,3753},
{218  ,3748},
{218  ,3747},
{218  ,3742},
{223  ,3737},
{220  ,3730},
{220  ,3722},
{225  ,3715},
{228  ,3706},
{220  ,3695},
{220  ,3691},
{225  ,3689},
{233  ,3688},
{248  ,3687},
{263  ,3685},
{278  ,3679},
{279  ,3650},
{279  ,3620},
{279  ,3580},
{279  ,3530},
{279  ,3480},
{279 ,3420},
{279 ,3400},
{279 ,3382}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0},
{0   ,0}
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

